<div class="weight_index">
	<h1>体重管理</h1>
	<%= link_to "体重入力画面へ",new_user_weight_path,class: "btn btn-primary btn-lg active" %>
</div>

<div class="container">
	<div class="row">
		<div class="col-xs-3">
	        <h3>マイデータ</h3>
			<table>
				<tr>
					<th>現在の体重</th>
					<td><%= @weights.weight %>kg</td>
				</tr>
				<tr>
					<th>BMI</th>
					<td><%= @weights.bmi %></td>
				</tr>
				<tr>
					<th>肥満度</th>
					<td><%= @degree %></td>
				</tr>
				<tr>
					<th>登録時からの変化</th>
					<td><%= @weight_difference %>kg</td>
				</tr>
				<tr>
					<th>標準体重まで</th>
					<td><%= @proper_weight_difference %>kg</td>
				</tr>
			</table>
		</div>

        <div class="col-xs-9">
        	<h3>体重の変化</h3>
			<div class="chart"><canvas id="myChart"></canvas></div>
		</div>
	</div>
</div>

		<script>
		var ctx = document.getElementById("myChart").getContext('2d');
		var myChart = new Chart(ctx, {
		    type: 'bar',
		    data: {
		        labels: <%= @weight_created.to_json.html_safe %>,
		        datasets: [{
		            label: "体重",
		            data: <%= @weights_chart %>,
		            backgroundColor: 'rgba(255, 99, 132, 0.7)',
		            borderColor: 'rgba(255, 50, 132, 0.7)',
		            fill: false
		        }]
		    },
		    options: {
		        title:  {
		          display: true,
		          text: "体重"
		        }
		    },
		    options: {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero:true
                    }
                }]
            }
	      }
		});
		</script>
	</div>
</div>